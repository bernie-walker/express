doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/header@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/list@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/marker@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/inline-code@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/delimiter@latest')
  script(src='https://cdn.jsdelivr.net/npm/@editorjs/image@latest')
  script(src='/js/header.js')
  script(src='/js/editor.js')
  link(href='https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' rel='stylesheet')
  link(rel='stylesheet' href='/css/normalize.css')
  link(rel='stylesheet' href='/css/editor.css')
  script. 
      const content = !{JSON.stringify(content)};
      localStorage.setItem('storyContent', JSON.stringify(content));
  title Express | Editor
body
  .header
    #editorHeader
      #logo
        div
          svg&attributes({width:21, height:26, style:{border:"1px solid", "background-color": 'black'}})
            text&attributes({y:24, style:{"font-family": 'sans-serif', "font-size": '1.9em', "font-weight": 600, fill: 'white'}}) E
         
      - const status = state === 'drafted' ? 'Draft': ''
      #saveConfirmation= status
    .searchAndProfile
      .story-actions
        if state === 'published'  
          .btn#saveAndPublish save and publish
        else
          .btn#publishBtn publish

      .profile
        img#profile(src= avatar_url, alt="avatar")
        .arrow
        .profile-modal.hidden
          .section#profile-section
            .avatar
              img(src= avatar_url, alt="avatar")
            .name
              .display_name= display_name
              #username= id
          .section
            div 
              a(href="/newStory") write a story
            div 
              a(href="/userStories") stories
          .section
            div 
              #signOut sign out
            //- div help
  #editor
    - const storyTitle = title === 'Untitled Story' ?  '' : title;
    #articleTitle(contenteditable='true',storyid=storyID)= storyTitle
    #editorjs
  .modal-container.hidden
    div.modal
      p Add tags (up to 5) so readers know what your story is about
      p.notification Max 25 characters are allowed
      input#tagInput(placeholder="Add a tag..." maxlength="25" title="max 25 alphaNumeric characters only")
      .tags
      div.button
        button.btn#publishNowBtn publish now
      div#closeBtn
        img(src="/images/close.png", alt="X")


  .sign-out-confirmation
    div
      .msg Are you sure to sign out?
    .actions
      #cancel cancel
      a(href="/signout") sign out
