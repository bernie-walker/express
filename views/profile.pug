mixin storyCard(id, title, content, lastModified)
  div.card(id=id) 
    div(class= 'card-content')
      div.title= title
      - const [,month,date,year] = new Date(lastModified).toString().split(' ');
      .date= `${month} ${date}, ${year}`

mixin stories(list)
  each story in list
    - const paragraph = story.content.find(data=> data.type ==='paragraph')
    - const text = paragraph ? paragraph.data.text.slice(0, 150) + '...' : ''
    +storyCard(story.storyID,story.title,text,story.lastModified)

html
  head
    title Express | Stories
    link(rel="stylesheet", href="/css/header.css")
    link(rel="stylesheet", href="/css/profile.css")
    link(rel="stylesheet", href="/css/normalize.css")
    script(src="/js/header.js")
    script(src="/js/profile.js")
  body 
    include ./includes/header.pug