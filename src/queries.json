{
  "latestNStories": "SELECT usr.display_name as authorName, str.* FROM stories AS str JOIN users AS usr ON str.written_by = usr.id WHERE state='published' ORDER BY str.last_modified DESC LIMIT ? OFFSET ?;",
  "publishedStory": "WITH storyInfo AS (SELECT usr.display_name AS authorName, usr.avatar_url AS authorAvatar, str.title, str.content, str.id AS storyID, str.written_by AS authorID, date(str.last_modified) AS lastModified, count(comments.id) AS comments FROM stories AS str JOIN users AS usr ON str.written_by=usr.id LEFT JOIN comments ON str.id=comments.commented_on WHERE str.state='published' GROUP BY str.id) SELECT storyInfo.*, GROUP_CONCAT(tags.tag) AS tags FROM storyInfo LEFT JOIN tags ON storyInfo.storyID=tags.tag_on WHERE storyInfo.storyID=? GROUP BY storyInfo.storyID;",
  "storyOfUser": "SELECT title, content, state, id as storyID FROM stories WHERE id=? AND written_by=?;",
  "findAccount": "SELECT id as userID FROM users WHERE github_id=?;",
  "userInfo": "SELECT id, display_name, avatar_url FROM users WHERE id=?;",
  "userStories": "SELECT title, id as storyID, date(last_modified) as lastModified FROM stories WHERE written_by=? AND state=? ORDER BY last_modified DESC;",
  "userProfile": "SELECT usr.id as profileID, usr.display_name as profileName, usr.avatar_url as profileAvatar, usr.bio,str.id as storyID, str.title, str.content, str.state,str.cover_image as coverImage, date(str.last_modified) as lastModified FROM users as usr LEFT JOIN stories as str ON usr.id=str.written_by WHERE usr.id=? ORDER BY last_modified DESC;",
  "addTag": "INSERT INTO tags(tag_on, tag) VALUES(?,?);",
  "deleteTag": "DELETE FROM tags WHERE tag_on=?;",
  "getAllTags": "SELECT * FROM tags WHERE tag_on=?;",
  "addClap": "INSERT INTO claps (clapped_on, clapped_by) VALUES(?,?);",
  "removeClap": "DELETE FROM claps WHERE clapped_on=? AND clapped_by=?;",
  "isClapped": "SELECT * FROM claps WHERE clapped_on=? AND clapped_by=?;",
  "clapCount": "SELECT count(*) as count FROM claps WHERE clapped_on=?;",
  "updateStory": "UPDATE stories SET title=?, content=?, state=?, last_modified=CURRENT_TIMESTAMP WHERE id=? AND written_by=?",
  "listComments": "SELECT cmnt.commented_by AS commenterID, date(cmnt.commented_at) AS commentDate, cmnt.comment as commentText, usr.display_name AS commenter, usr.avatar_url AS commenterAvatarURL FROM comments AS cmnt JOIN users AS usr ON cmnt.commented_by = usr.id WHERE cmnt.commented_on = ? ORDER BY cmnt.commented_at DESC;",
  "newComment": "INSERT INTO comments(commented_on, commented_by, comment) VALUES(?, ?, ?);"
}
